<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Giocatori - Club del Biliardo</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <header>
    <h1>Club del Biliardo</h1>
    <nav>
      <a href="index.html">Home</a>
      <a href="giocatori.html" aria-current="page">Giocatori</a>
      <a href="luoghi.html">Luoghi</a>
      <a href="partite.html">Partite</a>
      <a href="statistiche.html">Statistiche</a>
    </nav>
  </header>

  <main>
    <h2>Gestione Giocatori</h2>
    <div id="listaGiocatori" class="lista-card"></div>
  </main>

  <!-- Modal Dettagli Giocatore -->
  <div class="modal" id="modalGiocatore">
    <div class="modal-content">
      <span class="close-modal" onclick="chiudiModal()">&times;</span>
      <div id="dettagliGiocatore"></div>
    </div>
  </div>

  <script src="js/main.js"></script>
  <script>
    // Funzione per aprire il modal dettagli giocatore
    function apriModalGiocatore(idx) {
      const g = giocatori[idx];
      const div = document.getElementById("dettagliGiocatore");

      div.innerHTML = `
        <div style="text-align:center;">
          <img src="${g.foto || 'img/default.jpg'}" 
               alt="Foto ${g.nome}" 
               style="width:120px;height:120px;border-radius:50%;object-fit:cover;margin-bottom:10px;">
          <h3>${g.nome} <small>(${g.nickname})</small></h3>
          <p><strong>Email:</strong> ${g.email || "-"}</p>
          <p><strong>Specialit√†:</strong> ${g.specialita || "-"}</p>
        </div>
      `;

      document.getElementById("modalGiocatore").style.display = "flex";
    }

    function chiudiModal() {
      document.getElementById("modalGiocatore").style.display = "none";
    }

    // Override della funzione lista per aggiungere onclick
    function aggiornaListaGiocatori() {
      const div = document.getElementById("listaGiocatori");
      if (!div) return;

      div.innerHTML = "";

      if (giocatori.length === 0) {
        div.innerHTML = "<p>Nessun giocatore registrato</p>";
        return;
      }

      giocatori.forEach((g, idx) => {
        const card = document.createElement("div");
        card.className = "player-card";
        card.onclick = () => apriModalGiocatore(idx);

        card.innerHTML = `
          <img src="${g.foto || "img/default.jpg"}" 
               alt="Foto ${g.nome}" 
               style="width:80px;height:80px;border-radius:50%;margin-right:10px;">
          <div>
            <strong>${g.nome}</strong> (${g.nickname})<br>
            <small>${g.specialita || "-"}</small>
          </div>
        `;
        div.appendChild(card);
      });
    }
  </script>
</body>
</html>


